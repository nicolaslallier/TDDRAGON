# Release v0.1.0

**Release Date**: $(date +%Y-%m-%d)  
**Tag**: `v0.1.0`  
**Status**: ✅ Released

---

## Overview

This release implements the initial version (v0.1.0) of the platform as specified in `docs/version/0.1.0.md`. It provides a solid foundation with FastAPI, PostgreSQL, Nginx, and comprehensive test coverage.

## Features

### Core Functionality

- ✅ **Demo API Endpoint** (`/demo-items`)
  - POST `/demo-items` - Create a new demo item
  - GET `/demo-items` - List all demo items
  - Full CRUD operations support

- ✅ **Health Check Endpoint** (`/health`)
  - Service status monitoring
  - Database connectivity check
  - Returns `UP` or `DOWN` status

- ✅ **Database Support**
  - PostgreSQL integration via SQLAlchemy 2.0
  - Alembic migrations configured
  - Database connection pooling
  - Environment-based configuration

- ✅ **Reverse Proxy**
  - Nginx configuration for routing
  - Health check endpoint exposed
  - API endpoints proxied correctly

### Architecture

- ✅ **Multi-Main Modular Architecture**
  - Independent endpoint structure
  - Shared common code in `src/shared/`
  - Domain-specific endpoints in `src/endpoints/`
  - Clear separation of concerns

- ✅ **Docker Support**
  - Multi-stage Docker builds
  - Docker Compose orchestration
  - Separate containers for nginx, demo-api, and postgres
  - Health checks configured

### Testing & Quality

- ✅ **100% Unit Test Coverage**
  - Domain layer: 100% coverage
  - Application layer: 100% coverage
  - All unit tests passing

- ✅ **Comprehensive Integration Tests**
  - Database integration tests
  - API endpoint integration tests
  - Error handling tests
  - All integration tests passing

- ✅ **Regression Tests**
  - Full coverage for all modules
  - Prevents regressions
  - All regression tests passing

- ✅ **End-to-End Tests**
  - Acceptance criteria validation (AT-001, AT-002, AT-003)
  - Full API workflow tests
  - All E2E tests passing

- ✅ **Code Quality**
  - Zero linting errors
  - Type hints on all functions
  - Comprehensive docstrings
  - SOLID principles followed

- ✅ **Parallel Test Execution**
  - Tests run in parallel using pytest-xdist
  - Faster test execution
  - Proper test isolation

## Technical Stack

- **Framework**: FastAPI 0.115+
- **Database**: PostgreSQL 15+
- **ORM**: SQLAlchemy 2.0+
- **Migrations**: Alembic 1.13+
- **Reverse Proxy**: Nginx
- **Testing**: Pytest 7.4+ with pytest-xdist
- **Linting**: Ruff
- **Type Checking**: mypy (configured)
- **Containerization**: Docker & Docker Compose

## Test Results

```
============================= 180 passed in 1.83s ==============================
```

- **Total Tests**: 180
- **Unit Tests**: 100% coverage
- **Integration Tests**: Comprehensive coverage
- **Regression Tests**: Full coverage
- **E2E Tests**: All passing
- **Linting**: Zero errors

## Database Schema

### demo_items Table

```sql
CREATE TABLE demo_items (
    id SERIAL PRIMARY KEY,
    label VARCHAR(255) NOT NULL,
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);
```

## API Endpoints

### Health Check

```http
GET /health
```

**Response**:
```json
{
  "status": "UP",
  "database": "connected"
}
```

### Create Demo Item

```http
POST /demo-items
Content-Type: application/json

{
  "label": "My Demo Item"
}
```

**Response** (201 Created):
```json
{
  "id": 1,
  "label": "My Demo Item",
  "created_at": "2024-01-01T12:00:00Z"
}
```

### List Demo Items

```http
GET /demo-items
```

**Response** (200 OK):
```json
[
  {
    "id": 1,
    "label": "My Demo Item",
    "created_at": "2024-01-01T12:00:00Z"
  }
]
```

## Installation & Setup

### Prerequisites

- Python 3.11+
- Docker & Docker Compose
- PostgreSQL 15+ (if running locally)

### Quick Start

1. **Clone the repository**:
   ```bash
   git clone https://github.com/nicolaslallier/TDDRAGON.git
   cd TDDRAGON
   ```

2. **Set up the environment**:
   ```bash
   make setup
   make install-dev
   ```

3. **Run tests**:
   ```bash
   make test-parallel
   ```

4. **Start with Docker Compose**:
   ```bash
   make docker-up
   ```

5. **Access the API**:
   - Health check: `http://localhost/health`
   - API: `http://localhost/demo-items`

## Configuration

### Environment Variables

- `DATABASE_URL`: PostgreSQL connection string (default: `postgresql://user:password@localhost:5432/dbname`)
- `LOG_LEVEL`: Logging level (default: `INFO`)
- `ENV`: Environment name (default: `development`)

### Docker Compose

Services:
- `nginx`: Reverse proxy (port 80)
- `demo-api`: FastAPI application (port 8000)
- `postgres`: PostgreSQL database (port 5432)

## Migration Guide

This is the initial release, so there's no migration from a previous version.

## Breaking Changes

None (initial release).

## Known Issues

None.

## Future Enhancements

See `docs/version/0.2.0.md` for planned features.

## Contributors

- Initial implementation and comprehensive test coverage

## Changelog

### Added
- FastAPI demo API endpoint with CRUD operations
- PostgreSQL database support with Alembic migrations
- Health check endpoint
- Nginx reverse proxy configuration
- Docker and Docker Compose setup
- Comprehensive test suite (unit, integration, regression, E2E)
- Parallel test execution support
- Full linting configuration

### Changed
- Project structure to multi-main modular architecture
- Test configuration for parallel execution

### Fixed
- All linting errors
- Test isolation issues for parallel execution
- Database connection pooling for SQLite vs PostgreSQL

## References

- [Version 0.1.0 Specification](version/0.1.0.md)
- [Version 0.2.0 Planning](version/0.2.0.md)
- [Testing Documentation](../TESTING.md)
- [Makefile Documentation](../MAKEFILE.md)

